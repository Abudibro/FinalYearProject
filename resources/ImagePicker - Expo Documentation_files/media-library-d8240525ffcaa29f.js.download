(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[13429],{70334:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/versions/latest/sdk/media-library",function(){return i(52078)}])},76136:function(e,n,i){"use strict";i.d(n,{Pg:function(){return a},oO:function(){return l},hD:function(){return h},nJ:function(){return d}});var r=i(35944),t=i(67294),o=i(28634),s=i(11256);let a=e=>{let{children:n}=e;return(0,t.useEffect)(()=>{if("string"==typeof n)throw Error("Content inside 'ConfigClassic' needs to be surrounded by new lines to be parsed as markdown.\n\n"+"Make sure there is a blank new line before and after this content: '".concat(n,"'"))},[n]),(0,r.tZ)(o.z,{summary:(0,r.BX)("span",{children:["Are you using the classic build system? (",(0,r.tZ)(s.cO,{children:"expo build:[android|ios]"}),")"]}),children:n})},d=e=>{let{children:n,abstract:i,title:s}=e;return i?null!=s||(s="Working in a bare React Native app?"):null!=s||(s="Are you using this library in a bare React Native app?"),(0,t.useEffect)(()=>{if("string"==typeof n)throw Error("Content inside 'ConfigReactNative' needs to be surrounded by new lines to be parsed as markdown.\n\nMake sure there is a blank new line before and after this content: '".concat(n,"'"))},[n]),(0,r.tZ)(o.z,{summary:s,children:n})},l=e=>{let{children:n}=e;return(0,t.useEffect)(()=>{if("string"==typeof n)throw Error("Content inside 'ConfigPluginExample' needs to be surrounded by new lines to be parsed as markdown.\n\nMake sure there is a blank new line before and after this content: '".concat(n,"'"))},[n]),(0,r.BX)(r.HY,{children:[(0,r.tZ)(s.H3,{children:"Example app.json with config plugin"}),n]})};var c=i(11522),p=i(46788);let h=e=>{let{children:n,properties:i}=e;return(0,r.BX)(r.HY,{children:[(0,r.tZ)(s.H3,{children:"Configurable properties"}),!!n&&(0,r.tZ)(s.P,{children:n}),(0,r.BX)(p.iA,{children:[(0,r.tZ)(p.ss,{children:(0,r.BX)(p.X2,{children:[(0,r.tZ)(p.qN,{children:"Name"}),(0,r.tZ)(p.qN,{children:"Default"}),(0,r.tZ)(p.qN,{children:"Description"})]})}),(0,r.tZ)("tbody",{children:i.map(e=>(0,r.BX)(p.X2,{children:[(0,r.tZ)(p.bL,{fitContent:!0,children:(0,r.tZ)(s.cO,{children:e.name})}),(0,r.tZ)(p.bL,{children:e.default?(0,r.tZ)(s.cO,{children:e.default}):"-"}),(0,r.BX)(p.bL,{children:[!!e.platform&&(0,r.tZ)(c.j,{prefix:"Only for:",platforms:[{content:[{kind:"text",text:e.platform}],tag:"platform"}]}),e.description]})]},e.name))})]})]})}},28634:function(e,n,i){"use strict";i.d(n,{z:function(){return a}});var r=i(35944),t=i(70917),o=i(4903),s=i(11256);function a(e){let{summary:n,open:i,testID:t,children:a}=e;return(0,r.BX)("details",{css:d,open:i,children:[(0,r.BX)("summary",{css:l,children:[(0,r.tZ)("div",{css:c,children:(0,r.tZ)(o.TriangleDownIcon,{css:p,size:o.iconSize.sm})}),(0,r.tZ)(s.Up,{children:n})]}),(0,r.tZ)("div",{css:h,children:a})]})}let d=(0,t.iv)({overflow:"hidden",background:o.theme.background.default,border:"1px solid ".concat(o.theme.border.default),borderRadius:o.borderRadius.md,padding:0,marginBottom:o.spacing[3],"&[open]":{boxShadow:o.shadows.xs},"h4 + &, p + &, li > &":{marginTop:o.spacing[3]}}),l=(0,t.iv)({display:"flex",flexDirection:"row",alignItems:"center",userSelect:"none",listStyle:"none",backgroundColor:o.theme.background.subtle,padding:o.spacing[1.5],paddingRight:o.spacing[3],margin:0,cursor:"pointer","&:hover span":{color:o.theme.text.secondary},"::-webkit-details-marker":{display:"none"},h4:{marginTop:0,marginBottom:0},code:{backgroundColor:o.theme.background.element,display:"inline",fontSize:"90%"}}),c=(0,t.iv)({alignSelf:"baseline",marginTop:5,marginLeft:o.spacing[1.5],marginRight:o.spacing[2]}),p=(0,t.iv)({transform:"rotate(-90deg)",transition:"transform 200ms","details[open] &":{transform:"rotate(0)"}}),h=(0,t.iv)({padding:"".concat(o.spacing[4],"px ").concat(o.spacing[5],"px 0"),p:{marginLeft:0},"pre > pre":{marginTop:0}})},52078:function(e,n,i){"use strict";i.r(n),i.d(n,{__N_SSG:function(){return c},headings:function(){return h},meta:function(){return p}});var r=i(85893),t=i(11151),o=i(76136),s=i(69416),a=i(60308),d=i(70111),l=i(51066),c=!0;let p={title:"MediaLibrary",sourceCodeUrl:"https://github.com/expo/expo/tree/sdk-47/packages/expo-media-library",packageName:"expo-media-library"},h=[{depth:2,type:"text",title:"Installation"},{depth:2,type:"text",title:"Configuration in app.json/app.config.js"},{depth:2,type:"text",title:"API"},{depth:2,type:"text",title:"Permissions"},{depth:3,type:"text",title:"Android"},{depth:3,type:"text",title:"iOS"}];function u(e){let n=Object.assign({p:"p",code:"code",blockquote:"blockquote",strong:"strong",a:"a",h2:"h2",pre:"pre",h3:"h3"},(0,t.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.code,{children:"expo-media-library"})," provides access to the user's media library, allowing them to access their existing images and videos from your app, as well as save new ones. You can also subscribe to any updates made to the user's media library."]}),"\n",(0,r.jsxs)(n.blockquote,{children:["\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"warning"})," If your Android app created an album using SDK <= 40 and you want to add more assets to this album, you may need to migrate it to the new scoped directory. Otherwise, your app won't have access to the old album directory and ",(0,r.jsx)(n.code,{children:"expo-media-library"})," won't be able to add new assets to it. However, all other functions will work without problems. You only need to migrate the old album if you want to add something to it. For more information, check out ",(0,r.jsx)(n.a,{href:"https://expo.fyi/android-r",children:"Android R changes"})," and ",(0,r.jsx)(n.a,{href:"/versions/latest/sdk/media-library/#medialibrarymigratealbumifneededasyncalbum",children:(0,r.jsx)(n.code,{children:"MediaLibrary.migrateAlbumIfNeededAsync"})}),"."]}),"\n"]}),"\n",(0,r.jsx)(l.Z,{android:!0,emulator:!0,ios:!0,simulator:!0}),"\n",(0,r.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(d.F,{}),"\n",(0,r.jsx)(n.h2,{id:"configuration-in-appjsonappconfigjs",children:"Configuration in app.json/app.config.js"}),"\n",(0,r.jsxs)(n.p,{children:["You can configure ",(0,r.jsx)(n.code,{children:"expo-media-library"})," using its built-in ",(0,r.jsx)(n.a,{href:"/../../../../../../../guides/config-plugins",children:"config plugin"})," if you use config plugins in your project (",(0,r.jsx)(n.a,{href:"/../../../../../../../build/introduction",children:"EAS Build"})," or ",(0,r.jsx)(n.code,{children:"npx expo run:[android|ios]"}),"). The plugin allows you to configure various properties that cannot be set at runtime and require building a new app binary to take effect."]}),"\n",(0,r.jsx)(o.Pg,{children:(0,r.jsxs)(n.p,{children:["You can configure ",(0,r.jsx)(n.a,{href:"/versions/latest/sdk/media-library/#permissions",children:"the permissions for this library"})," using ",(0,r.jsx)(n.a,{href:"/versions/latest/config/app/#infoplist",children:(0,r.jsx)(n.code,{children:"ios.infoPlist"})})," and ",(0,r.jsx)(n.a,{href:"/versions/latest/config/app/#permissions",children:(0,r.jsx)(n.code,{children:"android.permissions"})}),"."]})}),"\n",(0,r.jsx)(o.nJ,{children:(0,r.jsxs)(n.p,{children:["Learn how to configure the native projects in the ",(0,r.jsxs)(n.a,{href:"https://github.com/expo/expo/tree/main/packages/expo-media-library#installation-in-bare-react-native-projects",children:["installation instructions in the ",(0,r.jsx)(n.code,{children:"expo-media-library"})," repository"]}),"."]})}),"\n",(0,r.jsx)(o.oO,{children:(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-json",children:'{\n  "expo": {\n    "plugins": [\n      [\n        "expo-media-library",\n        {\n          "photosPermission": "Allow $(PRODUCT_NAME) to access your photos.",\n          "savePhotosPermission": "Allow $(PRODUCT_NAME) to save photos.",\n          "isAccessMediaLocationEnabled": true\n        }\n      ]\n    ]\n  }\n}\n'})})}),"\n",(0,r.jsx)(o.hD,{properties:[{name:"photosPermission",platform:"ios",description:"Sets the iOS `NSPhotoLibraryUsageDescription` permission message in Info.plist.",default:'"Allow $(PRODUCT_NAME) to access your photos."'},{name:"savePhotosPermission",platform:"ios",description:"Sets the iOS `NSPhotoLibraryAddUsageDescription` permission message in Info.plist.",default:'"Allow $(PRODUCT_NAME) to save photos."'},{name:"isAccessMediaLocationEnabled",platform:"android",description:"Sets whether or not to request the `ACCESS_MEDIA_LOCATION` permission on Android.",default:"false"}]}),"\n",(0,r.jsx)(n.h2,{id:"api",children:"API"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-js",children:"import * as MediaLibrary from 'expo-media-library';\n"})}),"\n",(0,r.jsx)(a.Z,{packageName:"expo-media-library",apiName:"MediaLibrary"}),"\n",(0,r.jsx)(n.h2,{id:"permissions",children:"Permissions"}),"\n",(0,r.jsx)(n.h3,{id:"android",children:"Android"}),"\n",(0,r.jsxs)(n.p,{children:["The following permissions are added automatically through this library's ",(0,r.jsx)(n.code,{children:"AndroidManifest.xml"}),"."]}),"\n",(0,r.jsx)(s.r,{permissions:["READ_EXTERNAL_STORAGE","WRITE_EXTERNAL_STORAGE"]}),"\n",(0,r.jsx)(n.h3,{id:"ios",children:"iOS"}),"\n",(0,r.jsx)(n.p,{children:"The following usage description keys are used by this library:"}),"\n",(0,r.jsx)(s.X,{permissions:["NSPhotoLibraryUsageDescription","NSPhotoLibraryAddUsageDescription"]})]})}n.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,t.ah)(),e.components);return n?(0,r.jsx)(n,Object.assign({},e,{children:(0,r.jsx)(u,e)})):u(e)}}},function(e){e.O(0,[67328,7549,39412,49774,92888,40179],function(){return e(e.s=70334)}),_N_E=e.O()}]);