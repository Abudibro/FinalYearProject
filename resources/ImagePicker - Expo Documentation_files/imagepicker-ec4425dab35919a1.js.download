(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[80375],{64686:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/versions/latest/sdk/imagepicker",function(){return i(71047)}])},76136:function(e,n,i){"use strict";i.d(n,{Pg:function(){return a},oO:function(){return l},hD:function(){return h},nJ:function(){return c}});var t=i(35944),r=i(67294),s=i(28634),o=i(11256);let a=e=>{let{children:n}=e;return(0,r.useEffect)(()=>{if("string"==typeof n)throw Error("Content inside 'ConfigClassic' needs to be surrounded by new lines to be parsed as markdown.\n\n"+"Make sure there is a blank new line before and after this content: '".concat(n,"'"))},[n]),(0,t.tZ)(s.z,{summary:(0,t.BX)("span",{children:["Are you using the classic build system? (",(0,t.tZ)(o.cO,{children:"expo build:[android|ios]"}),")"]}),children:n})},c=e=>{let{children:n,abstract:i,title:o}=e;return i?null!=o||(o="Working in a bare React Native app?"):null!=o||(o="Are you using this library in a bare React Native app?"),(0,r.useEffect)(()=>{if("string"==typeof n)throw Error("Content inside 'ConfigReactNative' needs to be surrounded by new lines to be parsed as markdown.\n\nMake sure there is a blank new line before and after this content: '".concat(n,"'"))},[n]),(0,t.tZ)(s.z,{summary:o,children:n})},l=e=>{let{children:n}=e;return(0,r.useEffect)(()=>{if("string"==typeof n)throw Error("Content inside 'ConfigPluginExample' needs to be surrounded by new lines to be parsed as markdown.\n\nMake sure there is a blank new line before and after this content: '".concat(n,"'"))},[n]),(0,t.BX)(t.HY,{children:[(0,t.tZ)(o.H3,{children:"Example app.json with config plugin"}),n]})};var d=i(11522),p=i(46788);let h=e=>{let{children:n,properties:i}=e;return(0,t.BX)(t.HY,{children:[(0,t.tZ)(o.H3,{children:"Configurable properties"}),!!n&&(0,t.tZ)(o.P,{children:n}),(0,t.BX)(p.iA,{children:[(0,t.tZ)(p.ss,{children:(0,t.BX)(p.X2,{children:[(0,t.tZ)(p.qN,{children:"Name"}),(0,t.tZ)(p.qN,{children:"Default"}),(0,t.tZ)(p.qN,{children:"Description"})]})}),(0,t.tZ)("tbody",{children:i.map(e=>(0,t.BX)(p.X2,{children:[(0,t.tZ)(p.bL,{fitContent:!0,children:(0,t.tZ)(o.cO,{children:e.name})}),(0,t.tZ)(p.bL,{children:e.default?(0,t.tZ)(o.cO,{children:e.default}):"-"}),(0,t.BX)(p.bL,{children:[!!e.platform&&(0,t.tZ)(d.j,{prefix:"Only for:",platforms:[{content:[{kind:"text",text:e.platform}],tag:"platform"}]}),e.description]})]},e.name))})]})]})}},77415:function(e,n,i){"use strict";var t=i(35944),r=i(70917),s=i(4903),o=i(67294),a=i(70390),c=i(33082),l=i.n(c);let d="100%",p=["youtube.com","youtu.be"],h=e=>{let{controls:n,spaceAfter:i,url:r,file:s,loop:c=!0}=e,[p,h]=(0,o.useState)(!1),[b,y]=(0,o.useState)(g(r));return(0,t.tZ)("div",{onClick:()=>{void 0!==n||b||y(!0)},style:p?{cursor:"pointer"}:void 0,onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:(0,t.tZ)(l(),{partialVisibility:!0,children:e=>{let{isVisible:o}=e;return(0,t.BX)("div",{css:[m,{marginBottom:u(i)}],children:[(0,t.tZ)(a.ZP,{url:o?r||"/static/videos/".concat(s):void 0,className:"react-player",width:d,height:400,style:f,muted:!0,playing:o,controls:void 0===n?b:n,playsinline:!0,loop:c}),(0,t.tZ)("div",{css:[m,x,{opacity:o?0:.7}]})]})}})})},u=e=>void 0===e?30:"number"==typeof e?e:e?50:0,g=e=>!!e&&p.some(n=>e.includes(n)),m=(0,r.iv)({position:"relative",width:d,height:400,backgroundColor:"#000"}),f=(0,r.iv)({outline:"none",backgroundColor:"#000",borderRadius:s.borderRadius.md}),x=(0,r.iv)({pointerEvents:"none",position:"absolute",top:0,left:0,bottom:0,right:0,transition:"opacity 0.5s ease-out",["@media screen and (max-width: ".concat(s.breakpoints.medium+124,"px)")]:{display:"none"}});n.Z=h},28634:function(e,n,i){"use strict";i.d(n,{z:function(){return a}});var t=i(35944),r=i(70917),s=i(4903),o=i(11256);function a(e){let{summary:n,open:i,testID:r,children:a}=e;return(0,t.BX)("details",{css:c,open:i,children:[(0,t.BX)("summary",{css:l,children:[(0,t.tZ)("div",{css:d,children:(0,t.tZ)(s.TriangleDownIcon,{css:p,size:s.iconSize.sm})}),(0,t.tZ)(o.Up,{children:n})]}),(0,t.tZ)("div",{css:h,children:a})]})}let c=(0,r.iv)({overflow:"hidden",background:s.theme.background.default,border:"1px solid ".concat(s.theme.border.default),borderRadius:s.borderRadius.md,padding:0,marginBottom:s.spacing[3],"&[open]":{boxShadow:s.shadows.xs},"h4 + &, p + &, li > &":{marginTop:s.spacing[3]}}),l=(0,r.iv)({display:"flex",flexDirection:"row",alignItems:"center",userSelect:"none",listStyle:"none",backgroundColor:s.theme.background.subtle,padding:s.spacing[1.5],paddingRight:s.spacing[3],margin:0,cursor:"pointer","&:hover span":{color:s.theme.text.secondary},"::-webkit-details-marker":{display:"none"},h4:{marginTop:0,marginBottom:0},code:{backgroundColor:s.theme.background.element,display:"inline",fontSize:"90%"}}),d=(0,r.iv)({alignSelf:"baseline",marginTop:5,marginLeft:s.spacing[1.5],marginRight:s.spacing[2]}),p=(0,r.iv)({transform:"rotate(-90deg)",transition:"transform 200ms","details[open] &":{transform:"rotate(0)"}}),h=(0,r.iv)({padding:"".concat(s.spacing[4],"px ").concat(s.spacing[5],"px 0"),p:{marginLeft:0},"pre > pre":{marginTop:0}})},71047:function(e,n,i){"use strict";i.r(n),i.d(n,{__N_SSG:function(){return h},headings:function(){return g},meta:function(){return u}});var t=i(85893),r=i(11151),s=i(76136),o=i(69416),a=i(60308),c=i(70111),l=i(51066),d=i(77415),p=i(52892),h=!0;let u={title:"ImagePicker",sourceCodeUrl:"https://github.com/expo/expo/tree/sdk-47/packages/expo-image-picker",packageName:"expo-image-picker"},g=[{depth:2,type:"text",title:"Installation"},{depth:2,type:"text",title:"Configuration in app.json/app.config.js"},{depth:2,type:"text",title:"Usage"},{depth:3,type:"text",title:"Using with AWS S3"},{depth:3,type:"text",title:"Using with Firebase"},{depth:2,type:"text",title:"API"},{depth:2,type:"text",title:"Permissions"},{depth:3,type:"text",title:"Android"},{depth:3,type:"text",title:"iOS"}];function m(e){let n=Object.assign({p:"p",strong:"strong",code:"code",h2:"h2",a:"a",pre:"pre",h3:"h3"},(0,r.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.code,{children:"expo-image-picker"})})," provides access to the system's UI for selecting images and videos from the phone's library or taking a photo with the camera."]}),"\n",(0,t.jsx)(d.Z,{file:"sdk/imagepicker.mp4",loop:!1}),"\n",(0,t.jsx)(l.Z,{android:!0,emulator:!0,ios:!0,simulator:!0,web:!0}),"\n",(0,t.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,t.jsx)(c.F,{}),"\n",(0,t.jsx)(n.h2,{id:"configuration-in-appjsonappconfigjs",children:"Configuration in app.json/app.config.js"}),"\n",(0,t.jsxs)(n.p,{children:["You can configure ",(0,t.jsx)(n.code,{children:"expo-image-picker"})," using its built-in ",(0,t.jsx)(n.a,{href:"/../../../../../../../guides/config-plugins",children:"config plugin"})," if you use config plugins in your project (",(0,t.jsx)(n.a,{href:"/../../../../../../../build/introduction",children:"EAS Build"})," or ",(0,t.jsx)(n.code,{children:"npx expo run:[android|ios]"}),"). The plugin allows you to configure various properties that cannot be set at runtime and require building a new app binary to take effect."]}),"\n",(0,t.jsx)(s.Pg,{children:(0,t.jsxs)(n.p,{children:["You can configure ",(0,t.jsx)(n.a,{href:"/versions/latest/sdk/imagepicker/#permissions",children:"the permissions for this library"})," using ",(0,t.jsx)(n.a,{href:"/versions/latest/config/app/#infoplist",children:(0,t.jsx)(n.code,{children:"ios.infoPlist"})})," and ",(0,t.jsx)(n.a,{href:"/versions/latest/config/app/#permissions",children:(0,t.jsx)(n.code,{children:"android.permissions"})}),"."]})}),"\n",(0,t.jsx)(s.nJ,{children:(0,t.jsxs)(n.p,{children:["Learn how to configure the native projects in the ",(0,t.jsxs)(n.a,{href:"https://github.com/expo/expo/tree/main/packages/expo-image-picker#installation-in-bare-react-native-projects",children:["installation instructions in the ",(0,t.jsx)(n.code,{children:"expo-image-picker"})," repository"]}),"."]})}),"\n",(0,t.jsx)(s.oO,{children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'@@@app.json@@@{\n  "expo": {\n    "plugins": [\n      [\n        "expo-image-picker",\n        {\n          "photosPermission": "The app accesses your photos to let you share them with your friends."\n        }\n      ]\n    ]\n  }\n}\n'})})}),"\n",(0,t.jsx)(s.hD,{properties:[{name:"photosPermission",platform:"ios",description:"A string to set the NSPhotoLibraryUsageDescription permission message.",default:'"Allow $(PRODUCT_NAME) to access your photos"'},{name:"cameraPermission",platform:"ios",description:"A string to set the NSCameraUsageDescription permission message.",default:'"Allow $(PRODUCT_NAME) to access your camera"'},{name:"microphonePermission",platform:"ios",description:"A string to set the NSMicrophoneUsageDescription permission message.",default:'"Allow $(PRODUCT_NAME) to access your microphone"'}]}),"\n",(0,t.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,t.jsx)(p.EA,{label:"Image Picker",dependencies:["expo-image-picker"],children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"import React, { useState, useEffect } from 'react';\nimport { Button, Image, View, Platform } from 'react-native';\nimport * as ImagePicker from 'expo-image-picker';\n\nexport default function ImagePickerExample() {\n  const [image, setImage] = useState(null);\n\n  const pickImage = async () => {\n    // No permissions request is necessary for launching the image library\n    let result = await ImagePicker.launchImageLibraryAsync({\n      mediaTypes: ImagePicker.MediaTypeOptions.All,\n      allowsEditing: true,\n      aspect: [4, 3],\n      quality: 1,\n    });\n\n    console.log(result);\n\n    if (!result.canceled) {\n      setImage(result.assets[0].uri);\n    }\n  };\n\n  return (\n    <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\n      <Button title=\"Pick an image from camera roll\" onPress={pickImage} />\n      {image && <Image source={{ uri: image }} style={{ width: 200, height: 200 }} />}\n    </View>\n  );\n}\n"})})}),"\n",(0,t.jsx)(n.p,{children:"When you run this example and pick an image, you will see the image that you picked show up in your app, and a similar log will be shown in the console:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",children:'{\n  "assets": [\n    {\n      "assetId": "C166F9F5-B5FE-4501-9531",\n      "base64": null,\n      "duration": null,\n      "exif": null,\n      "fileName": "IMG.HEIC",\n      "fileSize": 6018901,\n      "height": 3025,\n      "type": "image",\n      "uri": "file:///data/user/0/host.exp.exponent/cache/cropped1814158652.jpg"\n      "width": 3024\n    }\n  ],\n  "canceled": false,\n  "cancelled": false\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"using-with-aws-s3",children:"Using with AWS S3"}),"\n",(0,t.jsxs)(n.p,{children:["Refer the ",(0,t.jsx)(n.a,{href:"https://github.com/expo/examples/tree/master/with-aws-storage-upload",children:"with-aws-storage-upload example"}),". Follow ",(0,t.jsx)(n.a,{href:"https://docs.amplify.aws/",children:"Amplify docs"})," to set your project up correctly."]}),"\n",(0,t.jsx)(n.h3,{id:"using-with-firebase",children:"Using with Firebase"}),"\n",(0,t.jsxs)(n.p,{children:["Refer the ",(0,t.jsx)(n.a,{href:"https://github.com/expo/examples/tree/master/with-firebase-storage-upload",children:"with-firebase-storage-upload example"}),". Make sure you follow the ",(0,t.jsx)(n.a,{href:"/../../../../../../../guides/using-firebase",children:"Using Firebase"})," guide to set your project up correctly."]}),"\n",(0,t.jsx)(n.h2,{id:"api",children:"API"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"import * as ImagePicker from 'expo-image-picker';\n"})}),"\n",(0,t.jsx)(a.Z,{packageName:"expo-image-picker",apiName:"ImagePicker"}),"\n",(0,t.jsx)(n.h2,{id:"permissions",children:"Permissions"}),"\n",(0,t.jsx)(n.h3,{id:"android",children:"Android"}),"\n",(0,t.jsxs)(n.p,{children:["The following permissions are added automatically through the library ",(0,t.jsx)(n.strong,{children:"AndroidManifest.xml"}),"."]}),"\n",(0,t.jsx)(o.r,{permissions:["CAMERA","READ_EXTERNAL_STORAGE","WRITE_EXTERNAL_STORAGE"]}),"\n",(0,t.jsx)(n.h3,{id:"ios",children:"iOS"}),"\n",(0,t.jsx)(n.p,{children:"The following usage description keys are used by the APIs in this library."}),"\n",(0,t.jsx)(o.X,{permissions:["NSMicrophoneUsageDescription","NSPhotoLibraryUsageDescription","NSCameraUsageDescription"]})]})}n.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,r.ah)(),e.components);return n?(0,t.jsx)(n,Object.assign({},e,{children:(0,t.jsx)(m,e)})):m(e)}}},function(e){e.O(0,[67328,89271,7549,39412,49774,92888,40179],function(){return e(e.s=64686)}),_N_E=e.O()}]);